% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/med.test.R
\name{med.test}
\alias{med.test}
\title{Sample Size for Log-Transformed t-Test (O’Keeffe et al., 2017)}
\usage{
med.test(
  m = c(m1, m2),
  s = c(s1, s2),
  variability = "SD",
  alternative = "two.sided",
  alpha = 0.05,
  power = 0.9
)
}
\arguments{
\item{m}{Numeric vector of length 2, representing the two group medians (or means) to be compared.}

\item{s}{Numeric vector of length 2, representing variability (standard deviation or range) for each group.}

\item{variability}{Character string specifying the type of variability measure:
\itemize{
\item \code{"SD"} (default) — values in \code{s} are standard deviations.
\item \code{"range"} — values in \code{s} are ranges, which will be internally divided by 4 to approximate SDs.
}}

\item{alternative}{Character string specifying the type of hypothesis test:
\itemize{
\item \code{"two.sided"} (default) — two-sided test.
\item \code{"one.sided"} — one-sided test.
}}

\item{alpha}{Numeric value for the significance level (default = 0.05).}

\item{power}{Numeric value for desired power (default = 0.90).}
}
\value{
A list (invisible) containing:
\itemize{
\item \code{n_per_group} — required sample size per group.
\item \code{n_total} — total required sample size.
\item \code{sigma} — log-transformed SDs for both groups.
\item \code{log_diff} — log difference of the medians (effect size).
}
}
\description{
Computes the required sample size for comparing two independent groups
using a log-transformed t-test, as described by O’Keeffe et al. (2017).
The method accounts for unequal standard deviations or ranges
and supports both one- and two-sided alternatives.
}
\details{
The function uses the log transformation to handle skewed data (e.g., median-based analysis)
and calculates the log-transformed standard deviations as:
\deqn{\sigma = \log(0.5 + \sqrt{0.25 + (s^2 / m^2)})}
The resulting formula for sample size per group is:
\deqn{n = \frac{(\sigma_1 + \sigma_2)(z_{\alpha} + z_{\beta})^2}{(\log(m_1) - \log(m_2))^2}}
}
\examples{
# Example with SDs
med.test(m = c(30, 20), s = c(10, 10), variability = "SD", power = 0.8)

# Example with ranges
med.test(m = c(25, 18), s = c(40, 35), variability = "range", alpha = 0.05)

}
\references{
O’Keeffe AG, Ambler G, Barber JA (2017).
Sample size calculations based on the lognormal distribution for a clinical trial.
\emph{Journal of Biopharmaceutical Statistics}, 27(5), 857–871.
\url{https://doi.org/10.1080/10543406.2016.1245223}
}
